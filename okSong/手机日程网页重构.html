<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>演唱会日程规划</title>
    <script src="https://cdn.tailwindcss.com/3.3.3"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css">
    <style>
        body {
            font-family: 'Noto Sans SC', sans-serif;
            background-color: #f8f9fa;
            color: #333;
        }
        .card {
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
        }
        .card:hover {
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            transform: translateY(-2px);
        }
        .section-title {
            background-color: #f5f5f5;
            font-weight: bold;
            padding: 12px 16px;
            border-radius: 8px 8px 0 0;
        }
        .today-indicator {
            background-color: #e53935;
        }
        .recent-indicator {
            background-color: #1976d2;
        }
        .future-indicator {
            background-color: #9e9e9e;
        }
        .back-to-top {
            position: fixed;
            bottom: 16px;
            right: 16px;
            width: 48px;
            height: 48px;
            border-radius: 50%;
            background-color: #1976d2;
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            transition: opacity 0.3s;
            cursor: pointer;
            z-index: 100;
        }
        .back-to-top.visible {
            opacity: 1;
        }
        .month-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 16px;
            background-color: #f5f5f5;
            border-bottom: 1px solid #e0e0e0;
            cursor: pointer;
        }
        .month-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease;
        }
        .month-content.expanded {
            max-height: 1000px;
        }
        .date-picker {
            width: 100%;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-size: 16px;
        }
        .date-picker:focus {
            outline: none;
            border-color: #1976d2;
            box-shadow: 0 0 0 2px rgba(25, 118, 210, 0.2);
        }
        .event-item {
            display: flex;
            align-items: center;
            padding: 12px 16px;
            border-bottom: 1px solid #f0f0f0;
        }
        .event-item:last-child {
            border-bottom: none;
        }
        .debug-area {
            padding: 12px;
            background-color: #f5f5f5;
            border-radius: 8px;
            margin-top: 16px;
            font-size: 14px;
            color: #666;
        }
    </style>
</head>
<body class="min-h-screen p-4 max-w-md mx-auto">
    <div class="mb-6">
        <input type="date" id="datePicker" class="date-picker" value="2025-07-14">
    </div>

    <!-- 今日日程 -->
    <div class="mb-6 card">
        <div class="section-title flex items-center">
            <div class="w-1 h-6 rounded-full today-indicator mr-3"></div>
            <span>今日日程</span>
        </div>
        <div id="todayEvents" class="divide-y">
            <!-- 今日日程内容将通过JS动态生成 -->
        </div>
    </div>

    <!-- 近期日程 -->
    <div class="mb-6 card">
        <div class="section-title flex items-center">
            <div class="w-1 h-6 rounded-full recent-indicator mr-3"></div>
            <span>近期日程 (+1至+7天)</span>
        </div>
        <div id="recentEvents" class="divide-y">
            <!-- 近期日程内容将通过JS动态生成 -->
        </div>
    </div>

    <!-- 未来日程 -->
    <div class="mb-6">
        <h2 class="text-lg font-bold mb-4">未来日程 (>7天)</h2>
        <div id="futureEvents">
            <!-- 未来日程内容将通过JS动态生成 -->
        </div>
    </div>

    <!-- 调试区 -->
    <div class="debug-area">
        <div>当前选中日期: <span id="selectedDate">2025-07-14</span></div>
        <div>数据更新时间: <span id="updateTime"></span></div>
    </div>

    <!-- 返回顶部按钮 -->
    <div class="back-to-top" id="backToTop">
        <i class="fas fa-arrow-up"></i>
    </div>

    <script>
        // 数据
        const scheduleData = {
            "current_date": "2025-07-14",
            "months": {
                "2025-06": {
                    "month_name": "2025年06月",
                    "dates": [
                        {
                            "date": "2025-06-27",
                            "day": 27,
                            "weekday": "Friday",
                            "events": [
                                {
                                    "singer": "8林俊杰",
                                    "location": "北京",
                                    "sort": "6.27"
                                }
                            ]
                        }
                    ]
                },
                "2025-07": {
                    "month_name": "2025年07月",
                    "dates": [
                        {
                            "date": "2025-07-18",
                            "day": 18,
                            "weekday": "Friday",
                            "events": [
                                {
                                    "singer": "6鹿晗",
                                    "location": "成都",
                                    "sort": "7.18"
                                },
                                {
                                    "singer": "11十个勤天",
                                    "location": "南宁",
                                    "sort": "7.18"
                                },
                                {
                                    "singer": "4孙燕姿",
                                    "location": "青岛",
                                    "sort": "7.18"
                                },
                                {
                                    "singer": "7张杰",
                                    "location": "合肥",
                                    "sort": "7.18"
                                }
                            ]
                        },
                        {
                            "date": "2025-07-19",
                            "day": 19,
                            "weekday": "Saturday",
                            "events": [
                                {
                                    "singer": "11十个勤天",
                                    "location": "南宁",
                                    "sort": "7.19"
                                },
                                {
                                    "singer": "20张韶涵",
                                    "location": "南昌",
                                    "sort": "7.19"
                                },
                                {
                                    "singer": "12王力宏",
                                    "location": "武汉",
                                    "sort": "7.19"
                                },
                                {
                                    "singer": "7张杰",
                                    "location": "合肥",
                                    "sort": "7.19"
                                },
                                {
                                    "singer": "13王心凌",
                                    "location": "西安",
                                    "sort": "7.19"
                                },
                                {
                                    "singer": "14海来阿木",
                                    "location": "唐山",
                                    "sort": "7.19"
                                },
                                {
                                    "singer": "20张韶涵",
                                    "location": "南昌",
                                    "sort": "7.19"
                                }
                            ]
                        },
                        {
                            "date": "2025-07-20",
                            "day": 20,
                            "weekday": "Sunday",
                            "events": [
                                {
                                    "singer": "4孙燕姿",
                                    "location": "青岛",
                                    "sort": "7.19"
                                },
                                {
                                    "singer": "6鹿晗",
                                    "location": "成都",
                                    "sort": "7.19"
                                },
                                {
                                    "singer": "7张杰",
                                    "location": "合肥",
                                    "sort": "7.19"
                                },
                                {
                                    "singer": "12王力宏",
                                    "location": "武汉",
                                    "sort": "7.19"
                                },
                                {
                                    "singer": "13王心凌",
                                    "location": "西安",
                                    "sort": "7.19"
                                }
                            ]
                        },
                        {
                            "date": "2025-07-25",
                            "day": 25,
                            "weekday": "Friday",
                            "events": [
                                {
                                    "singer": "6鹿晗",
                                    "location": "南京",
                                    "sort": "7.25"
                                },
                                {
                                    "singer": "11十个勤天",
                                    "location": "郑州",
                                    "sort": "7.25"
                                },
                                {
                                    "singer": "5汪苏泷",
                                    "location": "深圳",
                                    "sort": "7.25"
                                },
                                {
                                    "singer": "9许嵩",
                                    "location": "杭州",
                                    "sort": "7.25"
                                },
                                {
                                    "singer": "17张学友",
                                    "location": "天津",
                                    "sort": "7.25"
                                }
                            ]
                        },
                        {
                            "date": "2025-07-26",
                            "day": 26,
                            "weekday": "Saturday",
                            "events": [
                                {
                                    "singer": "20张韶涵",
                                    "location": "兰州",
                                    "sort": "7.26"
                                },
                                {
                                    "singer": "5汪苏泷",
                                    "location": "深圳",
                                    "sort": "7.26"
                                },
                                {
                                    "singer": "9许嵩",
                                    "location": "杭州",
                                    "sort": "7.26"
                                },
                                {
                                    "singer": "2邓紫棋",
                                    "location": "洛阳",
                                    "sort": "7.26"
                                },
                                {
                                    "singer": "10王源",
                                    "location": "重庆",
                                    "sort": "7.26"
                                },
                                {
                                    "singer": "3周深",
                                    "location": "西安",
                                    "sort": "7.26"
                                },
                                {
                                    "singer": "11十个勤天",
                                    "location": "郑州",
                                    "sort": "7.26"
                                },
                                {
                                    "singer": "15李荣浩",
                                    "location": "武汉",
                                    "sort": "7.26"
                                },
                                {
                                    "singer": "17张学友",
                                    "location": "天津",
                                    "sort": "7.26"
                                },
                                {
                                    "singer": "21张韶涵",
                                    "location": "兰州",
                                    "sort": "7.26"
                                }
                            ]
                        },
                        {
                            "date": "2025-07-27",
                            "day": 27,
                            "weekday": "Sunday",
                            "events": [
                                {
                                    "singer": "5汪苏泷",
                                    "location": "深圳",
                                    "sort": "7.27"
                                },
                                {
                                    "singer": "2邓紫棋",
                                    "location": "洛阳",
                                    "sort": "7.27"
                                },
                                {
                                    "singer": "6鹿晗",
                                    "location": "南京",
                                    "sort": "7.27"
                                },
                                {
                                    "singer": "9许嵩",
                                    "location": "杭州",
                                    "sort": "7.27"
                                },
                                {
                                    "singer": "3周深",
                                    "location": "西安",
                                    "sort": "7.27"
                                },
                                {
                                    "singer": "17张学友",
                                    "location": "天津",
                                    "sort": "7.27"
                                }
                            ]
                        }
                    ]
                },
                "2025-08": {
                    "month_name": "2025年08月",
                    "dates": [
                        {
                            "date": "2025-08-01",
                            "day": 1,
                            "weekday": "Friday",
                            "events": [
                                {
                                    "singer": "11十个勤天",
                                    "location": "南京",
                                    "sort": "8.01"
                                },
                                {
                                    "singer": "6鹿晗",
                                    "location": "厦门",
                                    "sort": "8.01"
                                },
                                {
                                    "singer": "17张学友",
                                    "location": "天津",
                                    "sort": "8.01"
                                }
                            ]
                        },
                        {
                            "date": "2025-08-02",
                            "day": 2,
                            "weekday": "Saturday",
                            "events": [
                                {
                                    "singer": "12王力宏",
                                    "location": "泉州",
                                    "sort": "8.02"
                                },
                                {
                                    "singer": "11十个勤天",
                                    "location": "南京",
                                    "sort": "8.02"
                                },
                                {
                                    "singer": "9许嵩",
                                    "location": "合肥",
                                    "sort": "8.02"
                                },
                                {
                                    "singer": "2邓紫棋",
                                    "location": "赣州",
                                    "sort": "8.02"
                                },
                                {
                                    "singer": "16易烊千玺",
                                    "location": "上海",
                                    "sort": "8.02"
                                },
                                {
                                    "singer": "17张学友",
                                    "location": "天津",
                                    "sort": "8.02"
                                }
                            ]
                        },
                        {
                            "date": "2025-08-03",
                            "day": 3,
                            "weekday": "Sunday",
                            "events": [
                                {
                                    "singer": "12王力宏",
                                    "location": "泉州",
                                    "sort": "8.03"
                                },
                                {
                                    "singer": "2邓紫棋",
                                    "location": "赣州",
                                    "sort": "8.03"
                                },
                                {
                                    "singer": "6鹿晗",
                                    "location": "厦门",
                                    "sort": "8.03"
                                },
                                {
                                    "singer": "17张学友",
                                    "location": "天津",
                                    "sort": "8.03"
                                }
                            ]
                        },
                        {
                            "date": "2025-08-08",
                            "day": 8,
                            "weekday": "Friday",
                            "events": [
                                {
                                    "singer": "5汪苏泷",
                                    "location": "西安",
                                    "sort": "8.08"
                                }
                            ]
                        },
                        {
                            "date": "2025-08-09",
                            "day": 9,
                            "weekday": "Saturday",
                            "events": [
                                {
                                    "singer": "20张韶涵",
                                    "location": "厦门",
                                    "sort": "8.09"
                                },
                                {
                                    "singer": "6鹿晗",
                                    "location": "郑州",
                                    "sort": "8.09"
                                },
                                {
                                    "singer": "3周深",
                                    "location": "哈尔滨",
                                    "sort": "8.09"
                                },
                                {
                                    "singer": "3周深",
                                    "location": "哈尔滨",
                                    "sort": "8.09"
                                },
                                {
                                    "singer": "5汪苏泷",
                                    "location": "西安",
                                    "sort": "8.09"
                                },
                                {
                                    "singer": "14海来阿木",
                                    "location": "杭州",
                                    "sort": "8.09"
                                },
                                {
                                    "singer": "15李荣浩",
                                    "location": "上海",
                                    "sort": "8.09"
                                },
                                {
                                    "singer": "21谢霆锋",
                                    "location": "杭州",
                                    "sort": "8.09"
                                },
                                {
                                    "singer": "22张韶涵",
                                    "location": "重庆",
                                    "sort": "8.09"
                                }
                            ]
                        },
                        {
                            "date": "2025-08-10",
                            "day": 10,
                            "weekday": "Sunday",
                            "events": [
                                {
                                    "singer": "3周深",
                                    "location": "哈尔滨",
                                    "sort": "8.09"
                                },
                                {
                                    "singer": "5汪苏泷",
                                    "location": "西安",
                                    "sort": "8.09"
                                },
                                {
                                    "singer": "15李荣浩",
                                    "location": "上海",
                                    "sort": "8.09"
                                },
                                {
                                    "singer": "21谢霆锋",
                                    "location": "杭州",
                                    "sort": "8.09"
                                }
                            ]
                        },
                        {
                            "date": "2025-08-15",
                            "day": 15,
                            "weekday": "Friday",
                            "events": [
                                {
                                    "singer": "6鹿晗",
                                    "location": "武汉",
                                    "sort": "8.15"
                                },
                                {
                                    "singer": "2邓紫棋",
                                    "location": "香港",
                                    "sort": "8.15"
                                },
                                {
                                    "singer": "13王心凌",
                                    "location": "北京",
                                    "sort": "8.15"
                                }
                            ]
                        },
                        {
                            "date": "2025-08-16",
                            "day": 16,
                            "weekday": "Saturday",
                            "events": [
                                {
                                    "singer": "20张韶涵",
                                    "location": "南宁",
                                    "sort": "8.16"
                                },
                                {
                                    "singer": "12王力宏",
                                    "location": "上海",
                                    "sort": "8.16"
                                },
                                {
                                    "singer": "7张杰",
                                    "location": "乌鲁木齐",
                                    "sort": "8.16"
                                },
                                {
                                    "singer": "2邓紫棋",
                                    "location": "香港",
                                    "sort": "8.16"
                                },
                                {
                                    "singer": "13王心凌",
                                    "location": "北京",
                                    "sort": "8.16"
                                },
                                {
                                    "singer": "14海来阿木",
                                    "location": "大连",
                                    "sort": "8.16"
                                },
                                {
                                    "singer": "23张韶涵",
                                    "location": "南宁",
                                    "sort": "8.16"
                                }
                            ]
                        },
                        {
                            "date": "2025-08-17",
                            "day": 17,
                            "weekday": "Sunday",
                            "events": [
                                {
                                    "singer": "6鹿晗",
                                    "location": "武汉",
                                    "sort": "8.17"
                                },
                                {
                                    "singer": "2邓紫棋",
                                    "location": "香港",
                                    "sort": "8.17"
                                },
                                {
                                    "singer": "7张杰",
                                    "location": "乌鲁木齐",
                                    "sort": "8.17"
                                },
                                {
                                    "singer": "12王力宏",
                                    "location": "上海",
                                    "sort": "8.17"
                                },
                                {
                                    "singer": "13王心凌",
                                    "location": "北京",
                                    "sort": "8.17"
                                }
                            ]
                        },
                        {
                            "date": "2025-08-19",
                            "day": 19,
                            "weekday": "Tuesday",
                            "events": [
                                {
                                    "singer": "2邓紫棋",
                                    "location": "香港",
                                    "sort": "8.19"
                                }
                            ]
                        },
                        {
                            "date": "2025-08-22",
                            "day": 22,
                            "weekday": "Friday",
                            "events": [
                                {
                                    "singer": "6鹿晗",
                                    "location": "深圳",
                                    "sort": "8.22"
                                },
                                {
                                    "singer": "5汪苏泷",
                                    "location": "青岛",
                                    "sort": "8.22"
                                }
                            ]
                        },
                        {
                            "date": "2025-08-23",
                            "day": 23,
                            "weekday": "Saturday",
                            "events": [
                                {
                                    "singer": "20张韶涵",
                                    "location": "衢州",
                                    "sort": "8.23"
                                },
                                {
                                    "singer": "5汪苏泷",
                                    "location": "青岛",
                                    "sort": "8.23"
                                },
                                {
                                    "singer": "31张韶涵",
                                    "location": "衢州",
                                    "sort": "8.23"
                                }
                            ]
                        },
                        {
                            "date": "2025-08-24",
                            "day": 24,
                            "weekday": "Sunday",
                            "events": [
                                {
                                    "singer": "6鹿晗",
                                    "location": "深圳",
                                    "sort": "8.24"
                                },
                                {
                                    "singer": "5汪苏泷",
                                    "location": "青岛",
                                    "sort": "8.24"
                                }
                            ]
                        },
                        {
                            "date": "2025-08-29",
                            "day": 29,
                            "weekday": "Friday",
                            "events": [
                                {
                                    "singer": "6鹿晗",
                                    "location": "南昌",
                                    "sort": "8.29"
                                },
                                {
                                    "singer": "2邓紫棋",
                                    "location": "上海",
                                    "sort": "8.29"
                                },
                                {
                                    "singer": "3周深",
                                    "location": "贵阳",
                                    "sort": "8.29"
                                },
                                {
                                    "singer": "18华晨宇",
                                    "location": "苏州",
                                    "sort": "8.29"
                                }
                            ]
                        },
                        {
                            "date": "2025-08-30",
                            "day": 30,
                            "weekday": "Saturday",
                            "events": [
                                {
                                    "singer": "20张韶涵",
                                    "location": "石家庄",
                                    "sort": "8.29"
                                },
                                {
                                    "singer": "3周深",
                                    "location": "贵阳",
                                    "sort": "8.29"
                                },
                                {
                                    "singer": "18华晨宇",
                                    "location": "苏州",
                                    "sort": "8.29"
                                },
                                {
                                    "singer": "24张韶涵",
                                    "location": "石家庄",
                                    "sort": "8.29"
                                },
                                {
                                    "singer": "2邓紫棋",
                                    "location": "上海",
                                    "sort": "8.3"
                                }
                            ]
                        },
                        {
                            "date": "2025-08-31",
                            "day": 31,
                            "weekday": "Sunday",
                            "events": [
                                {
                                    "singer": "6鹿晗",
                                    "location": "南昌",
                                    "sort": "8.31"
                                },
                                {
                                    "singer": "2邓紫棋",
                                    "location": "上海",
                                    "sort": "8.31"
                                }
                            ]
                        }
                    ]
                },
                "2025-09": {
                    "month_name": "2025年09月",
                    "dates": [
                        {
                            "date": "2025-09-05",
                            "day": 5,
                            "weekday": "Friday",
                            "events": [
                                {
                                    "singer": "20张韶涵",
                                    "location": "西宁",
                                    "sort": "9.05"
                                },
                                {
                                    "singer": "2邓紫棋",
                                    "location": "上海",
                                    "sort": "9.05"
                                },
                                {
                                    "singer": "25张韶涵",
                                    "location": "西宁",
                                    "sort": "9.05"
                                }
                            ]
                        },
                        {
                            "date": "2025-09-06",
                            "day": 6,
                            "weekday": "Saturday",
                            "events": [
                                {
                                    "singer": "12王力宏",
                                    "location": "重庆",
                                    "sort": "9.06"
                                },
                                {
                                    "singer": "2邓紫棋",
                                    "location": "上海",
                                    "sort": "9.06"
                                }
                            ]
                        },
                        {
                            "date": "2025-09-07",
                            "day": 7,
                            "weekday": "Sunday",
                            "events": [
                                {
                                    "singer": "2邓紫棋",
                                    "location": "上海",
                                    "sort": "9.07"
                                },
                                {
                                    "singer": "12王力宏",
                                    "location": "重庆",
                                    "sort": "9.07"
                                }
                            ]
                        },
                        {
                            "date": "2025-09-13",
                            "day": 13,
                            "weekday": "Saturday",
                            "events": [
                                {
                                    "singer": "15李荣浩",
                                    "location": "厦门",
                                    "sort": "9.13"
                                }
                            ]
                        },
                        {
                            "date": "2025-09-19",
                            "day": 19,
                            "weekday": "Friday",
                            "events": [
                                {
                                    "singer": "4孙燕姿",
                                    "location": "重庆",
                                    "sort": "9.19"
                                }
                            ]
                        },
                        {
                            "date": "2025-09-20",
                            "day": 20,
                            "weekday": "Saturday",
                            "events": [
                                {
                                    "singer": "20张韶涵",
                                    "location": "临沂",
                                    "sort": "9.19"
                                },
                                {
                                    "singer": "15李荣浩",
                                    "location": "合肥",
                                    "sort": "9.19"
                                },
                                {
                                    "singer": "26张韶涵",
                                    "location": "临沂",
                                    "sort": "9.2"
                                },
                                {
                                    "singer": "21谢霆锋",
                                    "location": "广州",
                                    "sort": "9.21"
                                }
                            ]
                        },
                        {
                            "date": "2025-09-21",
                            "day": 21,
                            "weekday": "Sunday",
                            "events": [
                                {
                                    "singer": "4孙燕姿",
                                    "location": "重庆",
                                    "sort": "9.21"
                                },
                                {
                                    "singer": "21谢霆锋",
                                    "location": "广州",
                                    "sort": "9.21"
                                }
                            ]
                        },
                        {
                            "date": "2025-09-27",
                            "day": 27,
                            "weekday": "Saturday",
                            "events": [
                                {
                                    "singer": "20张韶涵",
                                    "location": "天津",
                                    "sort": "9.27"
                                },
                                {
                                    "singer": "27张韶涵",
                                    "location": "天津",
                                    "sort": "9.27"
                                }
                            ]
                        }
                    ]
                },
                "2025-10": {
                    "month_name": "2025年10月",
                    "dates": [
                        {
                            "date": "2025-10-12",
                            "day": 12,
                            "weekday": "Sunday",
                            "events": [
                                {
                                    "singer": "20张韶涵",
                                    "location": "苏州",
                                    "sort": "10.12"
                                },
                                {
                                    "singer": "28张韶涵",
                                    "location": "苏州",
                                    "sort": "10.12"
                                }
                            ]
                        },
                        {
                            "date": "2025-10-18",
                            "day": 18,
                            "weekday": "Saturday",
                            "events": [
                                {
                                    "singer": "15李荣浩",
                                    "location": "济南",
                                    "sort": "10.18"
                                }
                            ]
                        },
                        {
                            "date": "2025-10-24",
                            "day": 24,
                            "weekday": "Friday",
                            "events": [
                                {
                                    "singer": "4孙燕姿",
                                    "location": "南京",
                                    "sort": "10.24"
                                }
                            ]
                        },
                        {
                            "date": "2025-10-25",
                            "day": 25,
                            "weekday": "Saturday",
                            "events": [
                                {
                                    "singer": "15李荣浩",
                                    "location": "南昌",
                                    "sort": "10.25"
                                }
                            ]
                        },
                        {
                            "date": "2025-10-26",
                            "day": 26,
                            "weekday": "Sunday",
                            "events": [
                                {
                                    "singer": "4孙燕姿",
                                    "location": "南京",
                                    "sort": "10.26"
                                }
                            ]
                        }
                    ]
                },
                "2025-11": {
                    "month_name": "2025年11月",
                    "dates": [
                        {
                            "date": "2025-11-01",
                            "day": 1,
                            "weekday": "Saturday",
                            "events": [
                                {
                                    "singer": "15李荣浩",
                                    "location": "重庆",
                                    "sort": "11.01"
                                }
                            ]
                        }
                    ]
                },
                "2025-12": {
                    "month_name": "2025年12月",
                    "dates": [
                        {
                            "date": "2025-12-06",
                            "day": 6,
                            "weekday": "Saturday",
                            "events": [
                                {
                                    "singer": "29张韶涵",
                                    "location": "汕头",
                                    "sort": "12.06"
                                }
                            ]
                        },
                        {
                            "date": "2025-12-12",
                            "day": 12,
                            "weekday": "Friday",
                            "events": [
                                {
                                    "singer": "30张韶涵",
                                    "location": "泉州",
                                    "sort": "12.12"
                                }
                            ]
                        }
                    ]
                }
            }
        };

        // 日期选择器事件
        document.getElementById('datePicker').addEventListener('change', function(e) {
            const selectedDate = e.target.value;
            updateSchedule(selectedDate);
        });

        // 返回顶部按钮
        window.addEventListener('scroll', function() {
            const backToTop = document.getElementById('backToTop');
            if (window.scrollY > 200) {
                backToTop.classList.add('visible');
            } else {
                backToTop.classList.remove('visible');
            }
        });

        document.getElementById('backToTop').addEventListener('click', function() {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        });

        // 月份折叠/展开
        document.addEventListener('click', function(e) {
            if (e.target.classList.contains('month-header')) {
                const monthContent = e.target.nextElementSibling;
                monthContent.classList.toggle('expanded');
                
                const icon = e.target.querySelector('i');
                if (monthContent.classList.contains('expanded')) {
                    icon.classList.remove('fa-chevron-down');
                    icon.classList.add('fa-chevron-up');
                } else {
                    icon.classList.remove('fa-chevron-up');
                    icon.classList.add('fa-chevron-down');
                }
            }
        });

        // 更新日程显示
        function updateSchedule(selectedDate) {
            // 更新调试区信息
            document.getElementById('selectedDate').textContent = selectedDate;
            document.getElementById('updateTime').textContent = new Date().toLocaleString();
            
            // 解析日期
            const selectedDateObj = new Date(selectedDate);
            const today = new Date(selectedDate);
            const tomorrow = new Date(today);
            tomorrow.setDate(tomorrow.getDate() + 1);
            const nextWeek = new Date(today);
            nextWeek.setDate(nextWeek.getDate() + 7);
            
            // 清空现有内容
            document.getElementById('todayEvents').innerHTML = '';
            document.getElementById('recentEvents').innerHTML = '';
            document.getElementById('futureEvents').innerHTML = '';
            
            // 遍历所有月份
            for (const monthKey in scheduleData.months) {
                const month = scheduleData.months[monthKey];
                
                // 创建未来日程的月份分组
                let futureMonthHTML = `
                    <div class="card mb-4">
                        <div class="month-header">
                            <span>${month.month_name}</span>
                            <i class="fas fa-chevron-down"></i>
                        </div>
                        <div class="month-content">
                `;
                
                // 遍历该月的所有日期
                for (const dateData of month.dates) {
                    const eventDate = new Date(dateData.date);
                    
                    // 跳过历史日程
                    if (eventDate < selectedDateObj) continue;
                    
                    // 判断日期类型
                    let dateType = '';
                    if (isSameDay(eventDate, today)) {
                        dateType = 'today';
                    } else if (eventDate >= tomorrow && eventDate <= nextWeek) {
                        dateType = 'recent';
                    } else {
                        dateType = 'future';
                    }
                    
                    // 创建日期卡片
                    const dateCardHTML = `
                        <div class="p-4">
                            <div class="flex items-center mb-2">
                                <div class="w-1 h-6 rounded-full ${dateType === 'today' ? 'today-indicator' : dateType === 'recent' ? 'recent-indicator' : 'future-indicator'} mr-3"></div>
                                <h3 class="font-medium">${dateData.date} ${dateData.weekday}</h3>
                            </div>
                            <div class="ml-4">
                    `;
                    
                    // 添加活动
                    let eventsHTML = '';
                    for (const event of dateData.events) {
                        eventsHTML += `
                            <div class="event-item">
                                <div class="flex-1">
                                    <div class="font-medium">${event.singer}</div>
                                    <div class="text-sm text-gray-500">${event.location}</div>
                                </div>
                            </div>
                        `;
                    }
                    
                    // 根据日期类型添加到不同区域
                    if (dateType === 'today') {
                        document.getElementById('todayEvents').innerHTML += dateCardHTML + eventsHTML + '</div></div>';
                    } else if (dateType === 'recent') {
                        document.getElementById('recentEvents').innerHTML += dateCardHTML + eventsHTML + '</div></div>';
                    } else {
                        futureMonthHTML += dateCardHTML + eventsHTML + '</div></div>';
                    }
                }
                
                // 完成未来月份分组
                futureMonthHTML += '</div></div>';
                
                // 如果有未来日程，添加到未来区域
                if (futureMonthHTML.includes('event-item')) {
                    document.getElementById('futureEvents').innerHTML += futureMonthHTML;
                }
            }
            
            // 如果没有今日日程，显示提示
            if (document.getElementById('todayEvents').innerHTML === '') {
                document.getElementById('todayEvents').innerHTML = '<div class="p-4 text-gray-500">今日没有安排演唱会</div>';
            }
            
            // 如果没有近期日程，显示提示
            if (document.getElementById('recentEvents').innerHTML === '') {
                document.getElementById('recentEvents').innerHTML = '<div class="p-4 text-gray-500">近期没有安排演唱会</div>';
            }
            
            // 如果没有未来日程，显示提示
            if (document.getElementById('futureEvents').innerHTML === '') {
                document.getElementById('futureEvents').innerHTML = '<div class="p-4 text-gray-500">未来没有安排演唱会</div>';
            }
        }
        
        // 判断是否为同一天
        function isSameDay(date1, date2) {
            return date1.getFullYear() === date2.getFullYear() &&
                   date1.getMonth() === date2.getMonth() &&
                   date1.getDate() === date2.getDate();
        }
        
        // 初始化页面
        updateSchedule('2025-07-14');
    </script>
</body>
</html>